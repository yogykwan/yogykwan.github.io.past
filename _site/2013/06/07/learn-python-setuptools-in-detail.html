<!doctype html>
<html>
<head>
  <meta charset="utf-8">
<title>Python包管理工具setuptools详解 | NULL</title>
<meta name="author" content="Yogy">

  <meta name="keywords" content="Python Setuptools">


  <meta name="description " content="setuptools可能在未来被distutils2代替，但是现在用到的还挺多，需要学习一下，有利于读Python代码。">

<link rel="shortcut icon" href="/public/upload/gavatar/favicon.ico" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/public/css/bootstrap.css">
<link rel="stylesheet" href="/public/css/font-awesome.css">
<link rel="stylesheet" href="/public/js/prettify/prettify.css">
<link rel="stylesheet" href="/public/css/base.css">
<link href="/pages/atom.xml" rel="alternate" title="NULL" type="application/atom+xml">
</head>
<body>
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"yogy"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->

  <div class="container">
    <div class="row">
      <div class="col-md-4 col-lg-4 col-sm-12 col-xs-12 aside visible-md visible-lg">
  <div class="row">
    <div class="col-md-3 col-xs-3 aside1">
      <br>
      <a class="pjaxlink" href="/"><img src="/public/upload/gavatar/gavatar.png" class="img-circle avatar"></a>
      <br><br>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#技术" data-toggle="tab">技术</a></li>
        <li><a href="#工具" data-toggle="tab">工具</a></li>
        <li><a href="#资源" data-toggle="tab">资源</a></li>
        <li><a href="#生活" data-toggle="tab">生活</a></li>
        <li><a href="#tags" data-toggle="tab">标签</a></li>
        <li><a class="pjaxlink" href="/pages/archive.html">归档</a></li>
        <li><a class="pjaxlink" href="/pages/about.html">关于</a></li>
        <li><a class="pjaxlink" href="/pages/edb.html">闯关</a></li>
      </ul>
      <div class="aside1_bottom">
        <table class="table table-condensed">
          <tr>
            <td><a href="http://github.com/yogykwan" target="_blank"><i class="fa fa-github fa-2x"></i></a></td>
            <td><a href="mailto:jingg.cxy@gmail.com"><i class="fa fa-envelope-o fa-2x"></i></a></td>
          </tr>
        </table>
      </div>
    </div>
    <div class="col-md-9 col-xs-9 aside2">
      <div class="row">
        <div class="tab-content">
           
            <div class="tab-pane" id="technology">
              <div class="list-group">
                <h2 class="center">technology</h2>
                
                  <a href="/2014/05/04/set-environment-variables-of-server-for-php.html" class="list-group-item pjaxlink">为PHP设置服务器(Apache/Nginx)环境变量</a>
                
                  <a href="/2014/04/27/magic-methods-and-magic-constants-in-php.html" class="list-group-item pjaxlink">PHP中的魔术方法和魔术常量简介和使用</a>
                
                  <a href="/2014/01/30/understanding-the-github-workflow.html" class="list-group-item pjaxlink">GitHub工作流</a>
                
                  <a href="/2014/01/25/how-to-use-php-socket.html" class="list-group-item pjaxlink">PHP Socket的使用</a>
                
                  <a href="/2014/01/17/python-script-of-sae-log-download.html" class="list-group-item pjaxlink">Python脚本--下载合并SAE日志</a>
                
                  <a href="/2014/01/16/php-namespace-and-autoload.html" class="list-group-item pjaxlink">PHP命名空间及自动加载</a>
                
                  <a href="/2013/12/08/implemention-of-breadcrumbs-by-css3.html" class="list-group-item pjaxlink">基于CSS3实现尖角面包屑</a>
                
                  <a href="/2013/06/09/learn-python-stevedore-module-in-detail.html" class="list-group-item pjaxlink">学习Python动态扩展包stevedore</a>
                
                  <a href="/2013/06/09/learn-python-abc-module.html" class="list-group-item pjaxlink">学习Python的ABC模块</a>
                
                  <a href="/2013/06/07/learn-python-setuptools-in-detail.html" class="list-group-item pjaxlink">Python包管理工具setuptools详解</a>
                
                  <a href="/2013/05/19/what-is-wsgi.html" class="list-group-item pjaxlink">WSGI学习</a>
                
                  <a href="/2013/05/15/learn-how-to-use-distutils.html" class="list-group-item pjaxlink">学习使用python打包工具distutils</a>
                
                  <a href="/2013/05/15/different-between-python-package-tools.html" class="list-group-item pjaxlink">python包工具之间的关系</a>
                
                  <a href="/2013/05/06/why-use-pip-over-easy-install.html" class="list-group-item pjaxlink">为什么使用pip而不是easy_install</a>
                
                  <a href="/2013/05/06/the-viewpoint-metatag.html" class="list-group-item pjaxlink">HTML中meta标签viewpoint的作用</a>
                
                  <a href="/2013/05/06/interactive-coding-ipython.html" class="list-group-item pjaxlink">交互式编程-IPython</a>
                
                  <a href="/2013/05/03/php-cache-of-a-page.html" class="list-group-item pjaxlink">页面提速之——数据缓存</a>
                
                  <a href="/2013/02/24/javascript-variable-domain.html" class="list-group-item pjaxlink">JavaScript变量作用域</a>
                
                  <a href="/2012/12/31/python-development-of-sae.html" class="list-group-item pjaxlink">sae下的python开发部署和一个简单例子</a>
                
                  <a href="/2012/09/27/php-variable-variables.html" class="list-group-item pjaxlink">PHP可变变量</a>
                
                  <a href="/2012/09/27/open-widown-in-javascript.html" class="list-group-item pjaxlink">JS中防止浏览器屏蔽window.open</a>
                
                  <a href="/2012/09/19/php-session-security.html" class="list-group-item pjaxlink">PHP操作Session的原理及提升安全性时的一个问题</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="php">
              <div class="list-group">
                <h2 class="center">php</h2>
                
                  <a href="/2014/05/04/set-environment-variables-of-server-for-php.html" class="list-group-item pjaxlink">为PHP设置服务器(Apache/Nginx)环境变量</a>
                
                  <a href="/2014/04/27/magic-methods-and-magic-constants-in-php.html" class="list-group-item pjaxlink">PHP中的魔术方法和魔术常量简介和使用</a>
                
                  <a href="/2014/01/25/how-to-use-php-socket.html" class="list-group-item pjaxlink">PHP Socket的使用</a>
                
                  <a href="/2014/01/16/php-namespace-and-autoload.html" class="list-group-item pjaxlink">PHP命名空间及自动加载</a>
                
                  <a href="/2013/05/03/php-cache-of-a-page.html" class="list-group-item pjaxlink">页面提速之——数据缓存</a>
                
                  <a href="/2012/09/27/php-variable-variables.html" class="list-group-item pjaxlink">PHP可变变量</a>
                
                  <a href="/2012/09/19/php-session-security.html" class="list-group-item pjaxlink">PHP操作Session的原理及提升安全性时的一个问题</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="技术">
              <div class="list-group">
                <h2 class="center">技术</h2>
                
                  <a href="/2014/05/04/set-environment-variables-of-server-for-php.html" class="list-group-item pjaxlink">为PHP设置服务器(Apache/Nginx)环境变量</a>
                
                  <a href="/2014/04/27/magic-methods-and-magic-constants-in-php.html" class="list-group-item pjaxlink">PHP中的魔术方法和魔术常量简介和使用</a>
                
                  <a href="/2014/01/30/understanding-the-github-workflow.html" class="list-group-item pjaxlink">GitHub工作流</a>
                
                  <a href="/2014/01/25/how-to-use-php-socket.html" class="list-group-item pjaxlink">PHP Socket的使用</a>
                
                  <a href="/2014/01/17/python-script-of-sae-log-download.html" class="list-group-item pjaxlink">Python脚本--下载合并SAE日志</a>
                
                  <a href="/2014/01/16/php-namespace-and-autoload.html" class="list-group-item pjaxlink">PHP命名空间及自动加载</a>
                
                  <a href="/2013/12/08/implemention-of-breadcrumbs-by-css3.html" class="list-group-item pjaxlink">基于CSS3实现尖角面包屑</a>
                
                  <a href="/2013/06/09/learn-python-stevedore-module-in-detail.html" class="list-group-item pjaxlink">学习Python动态扩展包stevedore</a>
                
                  <a href="/2013/06/09/learn-python-abc-module.html" class="list-group-item pjaxlink">学习Python的ABC模块</a>
                
                  <a href="/2013/06/07/learn-python-setuptools-in-detail.html" class="list-group-item pjaxlink">Python包管理工具setuptools详解</a>
                
                  <a href="/2013/05/19/what-is-wsgi.html" class="list-group-item pjaxlink">WSGI学习</a>
                
                  <a href="/2013/05/15/learn-how-to-use-distutils.html" class="list-group-item pjaxlink">学习使用python打包工具distutils</a>
                
                  <a href="/2013/05/15/different-between-python-package-tools.html" class="list-group-item pjaxlink">python包工具之间的关系</a>
                
                  <a href="/2013/05/06/why-use-pip-over-easy-install.html" class="list-group-item pjaxlink">为什么使用pip而不是easy_install</a>
                
                  <a href="/2013/05/06/the-viewpoint-metatag.html" class="list-group-item pjaxlink">HTML中meta标签viewpoint的作用</a>
                
                  <a href="/2013/05/06/interactive-coding-ipython.html" class="list-group-item pjaxlink">交互式编程-IPython</a>
                
                  <a href="/2013/05/03/php-cache-of-a-page.html" class="list-group-item pjaxlink">页面提速之——数据缓存</a>
                
                  <a href="/2013/02/24/javascript-variable-domain.html" class="list-group-item pjaxlink">JavaScript变量作用域</a>
                
                  <a href="/2012/12/31/python-development-of-sae.html" class="list-group-item pjaxlink">sae下的python开发部署和一个简单例子</a>
                
                  <a href="/2012/09/27/php-variable-variables.html" class="list-group-item pjaxlink">PHP可变变量</a>
                
                  <a href="/2012/09/27/open-widown-in-javascript.html" class="list-group-item pjaxlink">JS中防止浏览器屏蔽window.open</a>
                
                  <a href="/2012/09/19/php-session-security.html" class="list-group-item pjaxlink">PHP操作Session的原理及提升安全性时的一个问题</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="javascript">
              <div class="list-group">
                <h2 class="center">javascript</h2>
                
                  <a href="/2013/02/24/javascript-variable-domain.html" class="list-group-item pjaxlink">JavaScript变量作用域</a>
                
                  <a href="/2012/09/27/open-widown-in-javascript.html" class="list-group-item pjaxlink">JS中防止浏览器屏蔽window.open</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="python">
              <div class="list-group">
                <h2 class="center">python</h2>
                
                  <a href="/2014/01/17/python-script-of-sae-log-download.html" class="list-group-item pjaxlink">Python脚本--下载合并SAE日志</a>
                
                  <a href="/2013/06/09/learn-python-stevedore-module-in-detail.html" class="list-group-item pjaxlink">学习Python动态扩展包stevedore</a>
                
                  <a href="/2013/06/09/learn-python-abc-module.html" class="list-group-item pjaxlink">学习Python的ABC模块</a>
                
                  <a href="/2013/06/07/learn-python-setuptools-in-detail.html" class="list-group-item pjaxlink">Python包管理工具setuptools详解</a>
                
                  <a href="/2013/05/19/what-is-wsgi.html" class="list-group-item pjaxlink">WSGI学习</a>
                
                  <a href="/2013/05/15/learn-how-to-use-distutils.html" class="list-group-item pjaxlink">学习使用python打包工具distutils</a>
                
                  <a href="/2013/05/15/different-between-python-package-tools.html" class="list-group-item pjaxlink">python包工具之间的关系</a>
                
                  <a href="/2013/05/06/why-use-pip-over-easy-install.html" class="list-group-item pjaxlink">为什么使用pip而不是easy_install</a>
                
                  <a href="/2013/05/06/interactive-coding-ipython.html" class="list-group-item pjaxlink">交互式编程-IPython</a>
                
                  <a href="/2012/12/31/python-development-of-sae.html" class="list-group-item pjaxlink">sae下的python开发部署和一个简单例子</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="tool">
              <div class="list-group">
                <h2 class="center">tool</h2>
                
                  <a href="/2014/02/12/how-to-deploy-a-blog-on-github-by-jekyll.html" class="list-group-item pjaxlink">在GitHub上搭建Jekyll博客和创建主题</a>
                
                  <a href="/2013/12/08/linux-command-continue.html" class="list-group-item pjaxlink">Linux下多个命令连续执行方法</a>
                
                  <a href="/2013/11/11/share-windows-and-linux.html" class="list-group-item pjaxlink">配置Windows和Linux双系统</a>
                
                  <a href="/2013/05/20/set-proxy-for-git-or-apt.html" class="list-group-item pjaxlink">给Git或者APT设置goagent代理</a>
                
                  <a href="/2013/04/22/ignore-password-in-git-push.html" class="list-group-item pjaxlink">让git push命令不再需要密码</a>
                
                  <a href="/2013/04/22/highlight-of-jekyll.html" class="list-group-item pjaxlink">Jekyll的中的代码高亮</a>
                
                  <a href="/2013/02/25/quick-open-in-windows.html" class="list-group-item pjaxlink">Windows快速打开应用程序或文件</a>
                
                  <a href="/2013/01/16/create-remote-resp.html" class="list-group-item pjaxlink">Git创建远程库</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="git">
              <div class="list-group">
                <h2 class="center">git</h2>
                
                  <a href="/2014/01/30/understanding-the-github-workflow.html" class="list-group-item pjaxlink">GitHub工作流</a>
                
                  <a href="/2013/05/20/set-proxy-for-git-or-apt.html" class="list-group-item pjaxlink">给Git或者APT设置goagent代理</a>
                
                  <a href="/2013/04/22/ignore-password-in-git-push.html" class="list-group-item pjaxlink">让git push命令不再需要密码</a>
                
                  <a href="/2013/01/16/create-remote-resp.html" class="list-group-item pjaxlink">Git创建远程库</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="工具">
              <div class="list-group">
                <h2 class="center">工具</h2>
                
                  <a href="/2014/02/12/how-to-deploy-a-blog-on-github-by-jekyll.html" class="list-group-item pjaxlink">在GitHub上搭建Jekyll博客和创建主题</a>
                
                  <a href="/2013/12/08/linux-command-continue.html" class="list-group-item pjaxlink">Linux下多个命令连续执行方法</a>
                
                  <a href="/2013/11/11/share-windows-and-linux.html" class="list-group-item pjaxlink">配置Windows和Linux双系统</a>
                
                  <a href="/2013/05/20/set-proxy-for-git-or-apt.html" class="list-group-item pjaxlink">给Git或者APT设置goagent代理</a>
                
                  <a href="/2013/04/22/ignore-password-in-git-push.html" class="list-group-item pjaxlink">让git push命令不再需要密码</a>
                
                  <a href="/2013/04/22/highlight-of-jekyll.html" class="list-group-item pjaxlink">Jekyll的中的代码高亮</a>
                
                  <a href="/2013/02/25/quick-open-in-windows.html" class="list-group-item pjaxlink">Windows快速打开应用程序或文件</a>
                
                  <a href="/2013/01/16/create-remote-resp.html" class="list-group-item pjaxlink">Git创建远程库</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="windows">
              <div class="list-group">
                <h2 class="center">windows</h2>
                
                  <a href="/2013/02/25/quick-open-in-windows.html" class="list-group-item pjaxlink">Windows快速打开应用程序或文件</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="jekyll">
              <div class="list-group">
                <h2 class="center">jekyll</h2>
                
                  <a href="/2014/02/12/how-to-deploy-a-blog-on-github-by-jekyll.html" class="list-group-item pjaxlink">在GitHub上搭建Jekyll博客和创建主题</a>
                
                  <a href="/2013/04/22/highlight-of-jekyll.html" class="list-group-item pjaxlink">Jekyll的中的代码高亮</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="resource">
              <div class="list-group">
                <h2 class="center">resource</h2>
                
                  <a href="/2014/05/11/general-mysql-resources.html" class="list-group-item pjaxlink">MySQL常用资源</a>
                
                  <a href="/2014/01/15/general-svn-resources.html" class="list-group-item pjaxlink">SVN 常用资源</a>
                
                  <a href="/2014/01/15/general-shell-resources.html" class="list-group-item pjaxlink">Shell 常用资源</a>
                
                  <a href="/2014/01/15/general-python-resources.html" class="list-group-item pjaxlink">Python 常用资源</a>
                
                  <a href="/2014/01/15/general-php-resources.html" class="list-group-item pjaxlink">PHP 常用资源</a>
                
                  <a href="/2014/01/15/general-jquery-resources.html" class="list-group-item pjaxlink">jQuery 常用资源</a>
                
                  <a href="/2014/01/15/general-javascript-resources.html" class="list-group-item pjaxlink">JavaScript 常用资源</a>
                
                  <a href="/2014/01/15/general-html-resources.html" class="list-group-item pjaxlink">HTML 常用资源</a>
                
                  <a href="/2014/01/15/general-git-resources.html" class="list-group-item pjaxlink">Git 常用资源</a>
                
                  <a href="/2013/04/23/general-bootstrap-resources.html" class="list-group-item pjaxlink">Bootstrap常用资源</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="资源">
              <div class="list-group">
                <h2 class="center">资源</h2>
                
                  <a href="/2014/05/11/general-mysql-resources.html" class="list-group-item pjaxlink">MySQL常用资源</a>
                
                  <a href="/2014/01/15/general-svn-resources.html" class="list-group-item pjaxlink">SVN 常用资源</a>
                
                  <a href="/2014/01/15/general-shell-resources.html" class="list-group-item pjaxlink">Shell 常用资源</a>
                
                  <a href="/2014/01/15/general-python-resources.html" class="list-group-item pjaxlink">Python 常用资源</a>
                
                  <a href="/2014/01/15/general-php-resources.html" class="list-group-item pjaxlink">PHP 常用资源</a>
                
                  <a href="/2014/01/15/general-jquery-resources.html" class="list-group-item pjaxlink">jQuery 常用资源</a>
                
                  <a href="/2014/01/15/general-javascript-resources.html" class="list-group-item pjaxlink">JavaScript 常用资源</a>
                
                  <a href="/2014/01/15/general-html-resources.html" class="list-group-item pjaxlink">HTML 常用资源</a>
                
                  <a href="/2014/01/15/general-git-resources.html" class="list-group-item pjaxlink">Git 常用资源</a>
                
                  <a href="/2013/04/23/general-bootstrap-resources.html" class="list-group-item pjaxlink">Bootstrap常用资源</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="html">
              <div class="list-group">
                <h2 class="center">html</h2>
                
                  <a href="/2013/05/06/the-viewpoint-metatag.html" class="list-group-item pjaxlink">HTML中meta标签viewpoint的作用</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="linux">
              <div class="list-group">
                <h2 class="center">linux</h2>
                
                  <a href="/2013/12/08/linux-command-continue.html" class="list-group-item pjaxlink">Linux下多个命令连续执行方法</a>
                
                  <a href="/2013/11/11/share-windows-and-linux.html" class="list-group-item pjaxlink">配置Windows和Linux双系统</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="css">
              <div class="list-group">
                <h2 class="center">css</h2>
                
                  <a href="/2013/12/08/implemention-of-breadcrumbs-by-css3.html" class="list-group-item pjaxlink">基于CSS3实现尖角面包屑</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="life">
              <div class="list-group">
                <h2 class="center">life</h2>
                
                  <a href="/2014/08/03/tecbook-list-of-2014-second.html" class="list-group-item pjaxlink">2014下半年技术书单</a>
                
                  <a href="/2014/08/03/my-2014-first.html" class="list-group-item pjaxlink">2014上半年个人总结</a>
                
                  <a href="/2014/08/03/litbook-list-of-2014-second.html" class="list-group-item pjaxlink">2014下半年文学书单</a>
                
                  <a href="/2014/03/31/tecbook-list-of-2014-first.html" class="list-group-item pjaxlink">2014上半年技术书单</a>
                
                  <a href="/2014/03/31/litbook-list-of-2014-first.html" class="list-group-item pjaxlink">2014上半年文学书单</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="book">
              <div class="list-group">
                <h2 class="center">book</h2>
                
                  <a href="/2014/08/03/tecbook-list-of-2014-second.html" class="list-group-item pjaxlink">2014下半年技术书单</a>
                
                  <a href="/2014/08/03/litbook-list-of-2014-second.html" class="list-group-item pjaxlink">2014下半年文学书单</a>
                
                  <a href="/2014/03/31/tecbook-list-of-2014-first.html" class="list-group-item pjaxlink">2014上半年技术书单</a>
                
                  <a href="/2014/03/31/litbook-list-of-2014-first.html" class="list-group-item pjaxlink">2014上半年文学书单</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="生活">
              <div class="list-group">
                <h2 class="center">生活</h2>
                
                  <a href="/2014/08/03/tecbook-list-of-2014-second.html" class="list-group-item pjaxlink">2014下半年技术书单</a>
                
                  <a href="/2014/08/03/my-2014-first.html" class="list-group-item pjaxlink">2014上半年个人总结</a>
                
                  <a href="/2014/08/03/litbook-list-of-2014-second.html" class="list-group-item pjaxlink">2014下半年文学书单</a>
                
                  <a href="/2014/03/31/tecbook-list-of-2014-first.html" class="list-group-item pjaxlink">2014上半年技术书单</a>
                
                  <a href="/2014/03/31/litbook-list-of-2014-first.html" class="list-group-item pjaxlink">2014上半年文学书单</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="essay">
              <div class="list-group">
                <h2 class="center">essay</h2>
                
                  <a href="/2014/08/03/my-2014-first.html" class="list-group-item pjaxlink">2014上半年个人总结</a>
                
              </div>
            </div>
          
          <div class="tab-pane" id="tags">
            <div class="panel-group" id="accordion">
              <h2 class="center">标签</h2>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#PHP">PHP</a>
                      <span class="badge pull-right">8</span>
                    </h4>
                  </div>
                  <div id="PHP" class="panel-collapse collapse">
                    
                      <a  href='/2014/05/04/set-environment-variables-of-server-for-php.html' class="list-group-item pjaxlink">
                        为PHP设置服务器(Apache/Nginx)环境变量
                      </a>
                    
                      <a  href='/2014/04/27/magic-methods-and-magic-constants-in-php.html' class="list-group-item pjaxlink">
                        PHP中的魔术方法和魔术常量简介和使用
                      </a>
                    
                      <a  href='/2014/01/25/how-to-use-php-socket.html' class="list-group-item pjaxlink">
                        PHP Socket的使用
                      </a>
                    
                      <a  href='/2014/01/16/php-namespace-and-autoload.html' class="list-group-item pjaxlink">
                        PHP命名空间及自动加载
                      </a>
                    
                      <a  href='/2014/01/15/general-php-resources.html' class="list-group-item pjaxlink">
                        PHP 常用资源
                      </a>
                    
                      <a  href='/2013/05/03/php-cache-of-a-page.html' class="list-group-item pjaxlink">
                        页面提速之——数据缓存
                      </a>
                    
                      <a  href='/2012/09/27/php-variable-variables.html' class="list-group-item pjaxlink">
                        PHP可变变量
                      </a>
                    
                      <a  href='/2012/09/19/php-session-security.html' class="list-group-item pjaxlink">
                        PHP操作Session的原理及提升安全性时的一个问题
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#JavaScript">JavaScript</a>
                      <span class="badge pull-right">3</span>
                    </h4>
                  </div>
                  <div id="JavaScript" class="panel-collapse collapse">
                    
                      <a  href='/2014/01/15/general-javascript-resources.html' class="list-group-item pjaxlink">
                        JavaScript 常用资源
                      </a>
                    
                      <a  href='/2013/02/24/javascript-variable-domain.html' class="list-group-item pjaxlink">
                        JavaScript变量作用域
                      </a>
                    
                      <a  href='/2012/09/27/open-widown-in-javascript.html' class="list-group-item pjaxlink">
                        JS中防止浏览器屏蔽window.open
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Python">Python</a>
                      <span class="badge pull-right">11</span>
                    </h4>
                  </div>
                  <div id="Python" class="panel-collapse collapse">
                    
                      <a  href='/2014/01/17/python-script-of-sae-log-download.html' class="list-group-item pjaxlink">
                        Python脚本--下载合并SAE日志
                      </a>
                    
                      <a  href='/2014/01/15/general-python-resources.html' class="list-group-item pjaxlink">
                        Python 常用资源
                      </a>
                    
                      <a  href='/2013/06/09/learn-python-stevedore-module-in-detail.html' class="list-group-item pjaxlink">
                        学习Python动态扩展包stevedore
                      </a>
                    
                      <a  href='/2013/06/09/learn-python-abc-module.html' class="list-group-item pjaxlink">
                        学习Python的ABC模块
                      </a>
                    
                      <a  href='/2013/06/07/learn-python-setuptools-in-detail.html' class="list-group-item pjaxlink">
                        Python包管理工具setuptools详解
                      </a>
                    
                      <a  href='/2013/05/19/what-is-wsgi.html' class="list-group-item pjaxlink">
                        WSGI学习
                      </a>
                    
                      <a  href='/2013/05/15/learn-how-to-use-distutils.html' class="list-group-item pjaxlink">
                        学习使用python打包工具distutils
                      </a>
                    
                      <a  href='/2013/05/15/different-between-python-package-tools.html' class="list-group-item pjaxlink">
                        python包工具之间的关系
                      </a>
                    
                      <a  href='/2013/05/06/why-use-pip-over-easy-install.html' class="list-group-item pjaxlink">
                        为什么使用pip而不是easy_install
                      </a>
                    
                      <a  href='/2013/05/06/interactive-coding-ipython.html' class="list-group-item pjaxlink">
                        交互式编程-IPython
                      </a>
                    
                      <a  href='/2012/12/31/python-development-of-sae.html' class="list-group-item pjaxlink">
                        sae下的python开发部署和一个简单例子
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Git">Git</a>
                      <span class="badge pull-right">6</span>
                    </h4>
                  </div>
                  <div id="Git" class="panel-collapse collapse">
                    
                      <a  href='/2014/02/12/how-to-deploy-a-blog-on-github-by-jekyll.html' class="list-group-item pjaxlink">
                        在GitHub上搭建Jekyll博客和创建主题
                      </a>
                    
                      <a  href='/2014/01/30/understanding-the-github-workflow.html' class="list-group-item pjaxlink">
                        GitHub工作流
                      </a>
                    
                      <a  href='/2014/01/15/general-git-resources.html' class="list-group-item pjaxlink">
                        Git 常用资源
                      </a>
                    
                      <a  href='/2013/05/20/set-proxy-for-git-or-apt.html' class="list-group-item pjaxlink">
                        给Git或者APT设置goagent代理
                      </a>
                    
                      <a  href='/2013/04/22/ignore-password-in-git-push.html' class="list-group-item pjaxlink">
                        让git push命令不再需要密码
                      </a>
                    
                      <a  href='/2013/01/16/create-remote-resp.html' class="list-group-item pjaxlink">
                        Git创建远程库
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Windows">Windows</a>
                      <span class="badge pull-right">2</span>
                    </h4>
                  </div>
                  <div id="Windows" class="panel-collapse collapse">
                    
                      <a  href='/2013/11/11/share-windows-and-linux.html' class="list-group-item pjaxlink">
                        配置Windows和Linux双系统
                      </a>
                    
                      <a  href='/2013/02/25/quick-open-in-windows.html' class="list-group-item pjaxlink">
                        Windows快速打开应用程序或文件
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Jekyll">Jekyll</a>
                      <span class="badge pull-right">2</span>
                    </h4>
                  </div>
                  <div id="Jekyll" class="panel-collapse collapse">
                    
                      <a  href='/2014/02/12/how-to-deploy-a-blog-on-github-by-jekyll.html' class="list-group-item pjaxlink">
                        在GitHub上搭建Jekyll博客和创建主题
                      </a>
                    
                      <a  href='/2013/04/22/highlight-of-jekyll.html' class="list-group-item pjaxlink">
                        Jekyll的中的代码高亮
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Bootstrap">Bootstrap</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="Bootstrap" class="panel-collapse collapse">
                    
                      <a  href='/2013/04/23/general-bootstrap-resources.html' class="list-group-item pjaxlink">
                        Bootstrap常用资源
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#HTML">HTML</a>
                      <span class="badge pull-right">2</span>
                    </h4>
                  </div>
                  <div id="HTML" class="panel-collapse collapse">
                    
                      <a  href='/2014/01/15/general-html-resources.html' class="list-group-item pjaxlink">
                        HTML 常用资源
                      </a>
                    
                      <a  href='/2013/05/06/the-viewpoint-metatag.html' class="list-group-item pjaxlink">
                        HTML中meta标签viewpoint的作用
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Linux">Linux</a>
                      <span class="badge pull-right">2</span>
                    </h4>
                  </div>
                  <div id="Linux" class="panel-collapse collapse">
                    
                      <a  href='/2013/12/08/linux-command-continue.html' class="list-group-item pjaxlink">
                        Linux下多个命令连续执行方法
                      </a>
                    
                      <a  href='/2013/11/11/share-windows-and-linux.html' class="list-group-item pjaxlink">
                        配置Windows和Linux双系统
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#CSS">CSS</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="CSS" class="panel-collapse collapse">
                    
                      <a  href='/2013/12/08/implemention-of-breadcrumbs-by-css3.html' class="list-group-item pjaxlink">
                        基于CSS3实现尖角面包屑
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#jQuery">jQuery</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="jQuery" class="panel-collapse collapse">
                    
                      <a  href='/2014/01/15/general-jquery-resources.html' class="list-group-item pjaxlink">
                        jQuery 常用资源
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Shell">Shell</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="Shell" class="panel-collapse collapse">
                    
                      <a  href='/2014/01/15/general-shell-resources.html' class="list-group-item pjaxlink">
                        Shell 常用资源
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#SVN">SVN</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="SVN" class="panel-collapse collapse">
                    
                      <a  href='/2014/01/15/general-svn-resources.html' class="list-group-item pjaxlink">
                        SVN 常用资源
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Nginx">Nginx</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="Nginx" class="panel-collapse collapse">
                    
                      <a  href='/2014/05/04/set-environment-variables-of-server-for-php.html' class="list-group-item pjaxlink">
                        为PHP设置服务器(Apache/Nginx)环境变量
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Apache">Apache</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="Apache" class="panel-collapse collapse">
                    
                      <a  href='/2014/05/04/set-environment-variables-of-server-for-php.html' class="list-group-item pjaxlink">
                        为PHP设置服务器(Apache/Nginx)环境变量
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#MySQL">MySQL</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="MySQL" class="panel-collapse collapse">
                    
                      <a  href='/2014/05/11/general-mysql-resources.html' class="list-group-item pjaxlink">
                        MySQL常用资源
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#Essay">Essay</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="Essay" class="panel-collapse collapse">
                    
                      <a  href='/2014/08/03/my-2014-first.html' class="list-group-item pjaxlink">
                        2014上半年个人总结
                      </a>
                    
                  </div>
                </div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      <div class="col-md-8 col-lg-8 col-sm-12 col-xs-12 aside3">
        <div id="container">
          <div id="pjax">
            <div class="row">
  <div class="col-md-12 aside3-title">
    <br>
    <h2 id="#identifier">Python包管理工具setuptools详解</h2>
    2013年06月07日
  </div>
  <div class="col-md-12 aside3-content">
    <hr>
    <div id="content">
      <h3>0.什么是setuptools</h3>

<p>setuptools是Python distutils增强版的集合，它可以帮助我们更简单的创建和分发Python包，尤其是拥有依赖关系的。用户在使用setuptools创建的包时，并不需要已安装setuptools，只要一个<a href="http://peak.telecommunity.com/dist/ez_setup.py">启动模块</a>即可。</p>

<p>功能亮点：</p>

<ul>
<li>利用<a href="http://peak.telecommunity.com/DevCenter/EasyInstall">EasyInstall</a>自动查找、下载、安装、升级依赖包</li>
<li>创建<a href="http://peak.telecommunity.com/DevCenter/PythonEggs">Python Eggs</a></li>
<li>包含包目录内的数据文件</li>
<li>自动包含包目录内的所有的包，而不用在setup.py中列举</li>
<li>自动包含包内和发布有关的所有相关文件，而不用创建一个MANIFEST.in文件</li>
<li>自动生成经过包装的脚本或Windows执行文件</li>
<li>支持Pyrex，即在可以setup.py中列出.pyx文件，而最终用户无须安装Pyrex</li>
<li>支持上传到PyPI</li>
<li>可以部署开发模式，使项目在sys.path中</li>
<li>用新命令或setup()参数扩展distutils，为多个项目发布/重用扩展</li>
<li>在项目setup()中简单声明entry points，创建可以自动发现扩展的应用和框架</li>
</ul>

<p>总之，setuptools就是比distutils好用的多，基本满足大型项目的安装和发布</p>

<h3>1.安装setuptools</h3>

<p>1) 最简单安装，假定在ubuntu下</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo apt-get install python-setuptools
</code></pre></div>
<p>2) 启动脚本安装</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">wget http://peak.telecommunity.com/dist/ez_setup.py
sudo python ez_setup.py
</code></pre></div>
<h3>2.创建一个简单的包</h3>

<p>有了setuptools后，创建一个包基本上是无脑操作</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd /tmp 
mkdir demo
cd demo
</code></pre></div>
<p>在demo中创建一个<code>setup.py</code>文件，写入</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">from setuptools import setup, find_packages
setup(
    name = &quot;demo&quot;,
    version = &quot;0.1&quot;,
    packages = find_packages(),
)
</code></pre></div>
<p>执行<code>python setup.py bdist_egg</code>即可打包一个test的包了。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">demo
|-- build
|   `-- bdist.linux-x86_64
|-- demo.egg-info
|   |-- dependency_links.txt
|   |-- PKG-INFO
|   |-- SOURCES.txt
|   `-- top_level.txt
|-- dist
|   `-- demo-0.1-py2.7.egg
`-- setup.py
</code></pre></div>
<p>在dist中生成的是egg包</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">file dist/demo-0.1-py2.7.egg
dist/demo-0.1-py2.7.egg: Zip archive data, at least v2.0 to extract
</code></pre></div>
<p>看一下生成的.egg文件，是个zip包，解开看看先</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">upzip -l dist/demo-0.1-py2.7.egg

Archive:  dist/demo-0.1-py2.7.egg
  Length      Date    Time    Name
---------  ---------- -----   ----
        1  2013-06-07 22:03   EGG-INFO/dependency_links.txt
        1  2013-06-07 22:03   EGG-INFO/zip-safe
      120  2013-06-07 22:03   EGG-INFO/SOURCES.txt
        1  2013-06-07 22:03   EGG-INFO/top_level.txt
      176  2013-06-07 22:03   EGG-INFO/PKG-INFO
---------                     -------
      299                     5 files
</code></pre></div>
<p>我们可以看到，里面是一系列自动生成的文件。现在可以介绍一下刚刚setup()中的参数了</p>

<ul>
<li>name 包名</li>
<li>version 版本号</li>
<li>packages 所包含的其他包</li>
</ul>

<p>要想发布到PyPI中，需要增加别的参数，这个可以参考<a href="http://pythonhosted.org/setuptools/setuptools.html#basic-use">官方文档</a>中的例子了。</p>

<h3>3.给包增加内容</h3>

<p>上面生成的egg中没有实质的内容，显然谁也用不了，现在我们稍微调色一下，增加一点内容。</p>

<p>在demo中执行<code>mkdir demo</code>，再创建一个目录，在这个demo目录中创建一个<code>__init__.py</code>的文件，表示这个目录是一个包，然后写入：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#!/usr/bin/env python
#-*- coding:utf-8 -*-

def test():
    print &quot;hello world!&quot;  

if __name__ == &#39;__main__&#39;:
    test()
</code></pre></div>
<p>现在的主目录结构为下：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">demo
|-- demo
|   `-- __init__.py
`-- setup.py
</code></pre></div>
<p>再次执行<code>python setup.py bdist_egg</code>后，再看egg包</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Archive:  dist/demo-0.1-py2.7.egg
  Length      Date    Time    Name
---------  ---------- -----   ----
        1  2013-06-07 22:23   EGG-INFO/dependency_links.txt
        1  2013-06-07 22:23   EGG-INFO/zip-safe
      137  2013-06-07 22:23   EGG-INFO/SOURCES.txt
        5  2013-06-07 22:23   EGG-INFO/top_level.txt
      176  2013-06-07 22:23   EGG-INFO/PKG-INFO
       95  2013-06-07 22:21   demo/__init__.py
      338  2013-06-07 22:23   demo/__init__.pyc
---------                     -------
      753                     7 files
</code></pre></div>
<p>这回包内多了demo目录，显然已经有了我们自己的东西了，安装体验一下。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">python setup.py install
</code></pre></div>
<p>这个命令会讲我们创建的egg安装到python的dist-packages目录下，我这里的位置在</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">tree /usr/local/lib/python2.7/dist-packages/demo-0.1-py2.7.egg
</code></pre></div>
<p>查看一下它的结构：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">/usr/local/lib/python2.7/dist-packages/demo-0.1-py2.7.egg
|-- demo
|   |-- __init__.py
|   `-- __init__.pyc
`-- EGG-INFO
    |-- dependency_links.txt
    |-- PKG-INFO
    |-- SOURCES.txt
    |-- top_level.txt
    `-- zip-safe
</code></pre></div>
<p>打开python终端或者ipython都行，直接导入我们的包</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&gt;&gt;&gt; import demo
&gt;&gt;&gt; demo.test()
hello world!
&gt;&gt;&gt;
</code></pre></div>
<p>好了，执行成功！</p>

<h3>4.setuptools进阶</h3>

<p>在上例中，在前两例中，我们基本都使用setup()的默认参数，这只能写一些简单的egg。一旦我们的project逐渐变大以后，维护起来就有点复杂了，下面是setup()的其他参数，我们可以学习一下</p>

<h4>使用find_packages()</h4>

<p>对于简单工程来说，手动增加packages参数很容易，刚刚我们用到了这个函数，它默认在和setup.py同一目录下搜索各个含有<code>__init__.py</code>的包。其实我们可以将包统一放在一个src目录中，另外，这个包内可能还有aaa.txt文件和data数据文件夹。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">demo
├── setup.py
└── src
    └── demo
        ├── __init__.py
        ├── aaa.txt
        └── data
            ├── abc.dat
            └── abcd.dat
</code></pre></div>
<p>如果不加控制，则setuptools只会将<code>__init__.py</code>加入到egg中，想要将这些文件都添加，需要修改<code>setup.py</code></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">from setuptools import setup, find_packages
setup(
    packages = find_packages(&#39;src&#39;),  # 包含所有src中的包
    package_dir = {&#39;&#39;:&#39;src&#39;},   # 告诉distutils包都在src下

    package_data = {
        # 任何包中含有.txt文件，都包含它
        &#39;&#39;: [&#39;*.txt&#39;],
        # 包含demo包data文件夹中的 *.dat文件
        &#39;demo&#39;: [&#39;data/*.dat&#39;],
    }
)
</code></pre></div>
<p>这样，在生成的egg中就包含了所需文件了。看看：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Archive:  dist/demo-0.0.1-py2.7.egg
  Length     Date   Time    Name
 --------    ----   ----    ----
       88  06-07-13 23:40   demo/__init__.py
      347  06-07-13 23:52   demo/__init__.pyc
        0  06-07-13 23:45   demo/aaa.txt
        0  06-07-13 23:46   demo/data/abc.dat
        0  06-07-13 23:46   demo/data/abcd.dat
        1  06-07-13 23:52   EGG-INFO/dependency_links.txt
      178  06-07-13 23:52   EGG-INFO/PKG-INFO
      157  06-07-13 23:52   EGG-INFO/SOURCES.txt
        5  06-07-13 23:52   EGG-INFO/top_level.txt
        1  06-07-13 23:52   EGG-INFO/zip-safe
 --------                   -------
      777                   10 files
</code></pre></div>
<p>另外，也可以排除一些特定的包，如果在src中再增加一个tests包，可以通过exclude来排除它,</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">find_packages(exclude=[&quot;*.tests&quot;, &quot;*.tests.*&quot;, &quot;tests.*&quot;, &quot;tests&quot;])
</code></pre></div>
<h4>使用entry_points</h4>

<p>一个字典，从entry point组名映射道一个表示entry point的字符串或字符串列表。Entry points是用来支持动态发现服务和插件的，也用来支持自动生成脚本。这个还是看例子比较好理解：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">setup(
    entry_points = {
        &#39;console_scripts&#39;: [
            &#39;foo = demo:test&#39;,
            &#39;bar = demo:test&#39;,
        ],
        &#39;gui_scripts&#39;: [
            &#39;baz = demo:test&#39;,
        ]
    }
)
</code></pre></div>
<p>修改<code>setup.py</code>增加以上内容以后，再次安装这个egg，可以发现在安装信息里头多了两行代码（Linux下）：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Installing foo script to /usr/local/bin
Installing bar script to /usr/local/bin
</code></pre></div>
<p>查看<code>/usr/local/bin/foo</code>内容</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#!/usr/bin/python
# EASY-INSTALL-ENTRY-SCRIPT: &#39;demo==0.1&#39;,&#39;console_scripts&#39;,&#39;foo&#39;
__requires__ = &#39;demo==0.1&#39;
import sys
from pkg_resources import load_entry_point

if __name__ == &#39;__main__&#39;:
    sys.exit(
        load_entry_point(&#39;demo==0.1&#39;, &#39;console_scripts&#39;, &#39;foo&#39;)()
    )
</code></pre></div>
<p>这个内容其实显示的意思是，foo将执行console_scripts中定义的foo所代表的函数。执行foo，发现打出了<code>hello world!</code>，和预期结果一样。</p>

<h4>使用Eggsecutable Scripts</h4>

<p>从字面上来理解这个词，Eggsecutable是Eggs和executable合成词，翻译过来就是另eggs可执行。也就是说定义好一个参数以后，可以另你生成的.egg文件可以被直接执行，貌似Java的.jar也有这机制？不很清楚，下面是使用方法：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">setup(
    # other arguments here...
    entry_points = {
        &#39;setuptools.installation&#39;: [
            &#39;eggsecutable = demo:test&#39;,
        ]
    }
)
</code></pre></div>
<p>这么写意味着在执行<code>python *.egg</code>时，会执行我的test()函数，在文档中说需要将.egg放到PATH路径中。</p>

<h4>包含数据文件</h4>

<p>在3中我们已经列举了如何包含数据文件，其实setuptools提供的不只这么一种方法，下面是另外两种</p>

<p>1）包含所有包内文件</p>

<p>这种方法中包内所有文件指的是受版本控制（CVS/SVN/GIT等）的文件，或者通过MANIFEST.in声明的</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">from setuptools import setup, find_packages
setup(
    ...
    include_package_data = True
)
</code></pre></div>
<p>2）包含一部分，排除一部分</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">from setuptools import setup, find_packages
setup(
    ...
    packages = find_packages(&#39;src&#39;),  
    package_dir = {&#39;&#39;:&#39;src&#39;},   

    include_package_data = True,    

    # 排除所有 README.txt
    exclude_package_data = { &#39;&#39;: [&#39;README.txt&#39;] },
)
</code></pre></div>
<p>如果没有使用版本控制的话，可以还是使用3中提到的包含方法</p>

<h4>可扩展的框架和应用</h4>

<p>setuptools可以帮助你将应用变成插件模式，供别的应用使用。官网举例是一个帮助博客更改输出类型的插件，一个博客可能想要输出不同类型的文章，但是总自己写输出格式化代码太繁琐，可以借助一个已经写好的应用，在编写博客程序的时候动态调用其中的代码。</p>

<p>通过entry_points可以定义一系列接口，供别的应用或者自己调用，例如：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">setup(
    entry_points = {&#39;blogtool.parsers&#39;: &#39;.rst = some_module:SomeClass&#39;}
)

setup(
    entry_points = {&#39;blogtool.parsers&#39;: [&#39;.rst = some_module:a_func&#39;]}
)

setup(
    entry_points = &quot;&quot;&quot;
        [blogtool.parsers]
        .rst = some.nested.module:SomeClass.some_classmethod [reST]
    &quot;&quot;&quot;,
    extras_require = dict(reST = &quot;Docutils&gt;=0.3.5&quot;)
)
</code></pre></div>
<p>上面列举了三中定义方式，即我们将我们some_module中的函数，以名字为blogtool.parsers的借口共享给别的应用。</p>

<p>别的应用使用的方法是通过<code>pkg_resources.require()</code>来导入这些模块。</p>

<p>另外，一个名叫<a href="http://stevedore.readthedocs.org/en/latest/index.html">stevedore</a>的库将这个方式做了封装，更加方便进行应用的扩展。</p>

<h3>5. 以后增加</h3>

<p>以上内容大部分来自于<a href="http://pythonhosted.org/setuptools/setuptools.html">官方文档</a>，需要额外学习的以后再增加</p>

    </div>
    <hr>
    <div id="disqus_thread">
  <button type="button" name="yogykwan" class="btn btn-default show-commend">显示评论</button>
</div>

  </div>
  <!-- 目录 -->
  <div id="content_table" style="position:fixed;right:20px;top:120px;display:none;">
    <div class="panel panel-success">
      <div class="panel-body" id="nav"></div>
    </div>
  </div>
</div>


          </div>
        </div>
      </div>
    </div>
  </div>
  <div style="position:fixed;right:20px;top:10px;">
  <button id="nav_btn" class="btn btn-lg" style="height:45px;width:45px;"><i class="fa fa-angle-left"></i></button>
</div>
<div style="position:fixed;right:20px;top:60px;">
  <button id="content_btn" class="btn btn-lg" style="height:45px;width:45px;"><i class="fa fa-angle-down"></i></button>
</div>
<script type="text/javascript" src="/public/js/jquery.js"></script>
<script type="text/javascript" src="/public/js/bootstrap.js"></script>
<script src="/public/js/jquery.pjax.js"></script>
<script src="/public/js/prettify/prettify.js"></script>
<script>
    $('a[href="#技术"]').tab('show');
</script>
<script src="/public/js/base.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-43667383-1', 'yogy.cc');
  ga('send', 'pageview');
</script>
</body>
</html>
